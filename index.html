<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="fonts/icomoon/style.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    
    <link rel="stylesheet" href="css/bootstrap.min.css">
    
   <link rel="stylesheet" href="css/style.css">

    <title>Statistique Foot ITU</title>
  </head>
  <body>
  <div class="content">
    
    <div class="container">
      <h2 class="mb-5">EQUIPE</h2>
      <button class="btn btn-primary" id="g" >GENERALS</button>
      <button class="btn btn-primary" id="d" >DEFENSE</button>
      <button class="btn btn-primary" id="a" >ATTACK</button>

      <div class="table-responsive">

        <table class="table table-striped custom-table" id="table">
          <thead>
          </thead>
          <tbody id="data">
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Initial call to display "GENERALS" data
      generals();
  
      // Event listeners for buttons
      document.getElementById("g").addEventListener("click", function () {
        generals('https://itu.alwaysdata.net/generals');
      });
  
      document.getElementById("d").addEventListener("click", function () {
        generals('https://itu.alwaysdata.net/defenses'); 
      });
  
      document.getElementById("a").addEventListener("click", function () {
        generals('https://itu.alwaysdata.net/attack');
      });
  
      function generals(url) {
        fetch(url)
          .then(response => response.json())
          .then(data => {
            const table = document.getElementById("table");
            const head = table.querySelector('thead');
            const body = document.querySelector('#data');
  
            table.innerHTML = "";
  
            if (data.length === 0) {
              body.innerHTML = "<p>No data available</p>";
              return;
            }
  
            const trHead = document.createElement("tr");
            Object.keys(data[0]).forEach(titre => {
              const th = document.createElement('th');
              th.textContent = titre;
              trHead.appendChild(th);
            });
            head.appendChild(trHead);
  
            data.forEach(datas => {
              const trBody = document.createElement("tr");
              Object.values(datas).forEach(value => {
                const td = document.createElement('td');
                td.textContent = value;
                trBody.appendChild(td);
              });
              body.appendChild(trBody);
            });
          })
          .catch(error => {
            console.error('Erreur lors de la récupération des données :', error);
          });
      }
    });
  </script>
  
  </script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>